<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="stylesheet" href="jquery-ui/jquery-ui-1.11.4/jquery-ui.css">
    <script src="jquery-2.1.3.js"></script>
    <script src="jquery-ui/jquery-ui-1.11.4/jquery-ui.js"></script>
    <script src="pipeline.js"></script>
    <script>       
       $(document).ready(function (){
            $("#HazardUnit").dialog({
                title: "Hazard Unit",
                autoOpen: false
            });
            $("#Control").dialog({
                title: "Control",
                autoOpen: false
            });
            $("#ForwardUnit1").dialog({
                title: "Forward Unit 1",
                autoOpen: false
            });
            $("#ForwardUnit2").dialog({
                title: "Forward Unit 2",
                autoOpen: false
            });
            $("#Branch").dialog({
                title: "Branch",
                autoOpen: false
            });
            $("#IFFlush").dialog({
                title: "IF Flush",
                autoOpen: false
            });
            $("#ALUcntrl").dialog({
                title: "ALU control",
                autoOpen: false
            });
            $("#IDEX").dialog({
                title: "ID/EX",
                autoOpen: false
            });
            $("#EXMEM").dialog({
                title: "EX/MEM",
                autoOpen: false
            });
            $("#MEMWB").dialog({
                title: "MEM/WB",
                autoOpen: false
            });
       });
    </script>
    
</head>

<body>
<a href = "Pipelining.html#startText">Instruction Execution in Pipeline</a><br>
<a href = "Pipelining2.html#startText">Parallel Execution in Pipeline</a><br>
<a href = "datahazards.html#startText">Data Hazards</a><br>
<a href = "controlhazards.html#startText">Control Hazards</a><br>
<a href = "structuralhazards.html#startText">Structural Hazards</a><br>
<a href = "MIPSControlPath.html#startText">Pipeline control path: No hazard control</a><br>
<a href = "MIPSControlPath_hazards.html#startText">Pipeline control path: Hazard control</a><br>

<h2 id = "startText">Hazard control in the MIPS Pipeline</h2>
This interactive graphic explains how hazards are technically handled in the MIPS pipeline.  This graphic does not have interactive content for the basic parts of the technical implementation of the MIPS pipeline, but only the hazard control parts.  Click <a href="MIPSControlPath.html#startText"> here </a> for a graphic that has information on other parts of the MIPS pipeline.  Feel free to click parts of this graphic for information about individual parts.<br>

<div id="HazardUnit">The Hazard Unit plays a hand in globally handling hazards.  It keeps the extra hazard bits for each stage in check, flushes the pipeline, and plays a role in updating the PC.</div>
<div id="Control">The Control Unit tells the branch what to update the PC with.</div>
<div id="ForwardUnit1">The forwarding units handle data forwarding.  This one appears to forward branch values, so that the pipeline can branch before the branch instruction finishes all cycles of execution - minimizing the number of stalls needed.</div>
<div id="ForwardUnit2">The forwarding units handle data forwarding.  This one appears to forward register values to the ALU, to ensure that the register values being used are correct and most recent.</div>
<div id="Branch">The Branch component control which value the PC will update with.  This could involve taking values from the ALU, or even branch prediction.</div>
<div id="IFFlush">Sometimes, the pipeline will need to be flushed.  For example, if branch prediction predicts the wrong branch, the pipeline will probably need to be flushed. This is controlled by the Hazard Unit.</div>
<div id="ALUcntrl">The ALU Control unit tells the ALU which values it needs to process at the current cycle.</div>
<div id="IDEX">Some extra bits need to be added to the ID/EX stage state, to keep track of handling hazards.</div>
<div id="EXMEM">Some extra bits need to be added to the EX/MEM stage state, to keep track of handling hazards.</div>
<div id="MEMWB">Some extra bits need to be added to the MEM/WB stage state, to keep track of handling hazards.</div>

<img src="HazardControl.png" alt="" usemap="#Map" />
<map name="Map" id="Map">
    <area alt="" shape="rect" coords="664,1287" />
    <area alt="" title="" href="javascript:$('#HazardUnit').dialog('open')" shape="poly" coords="311,57,282,69,273,87,276,96,285,107,305,116,331,113,351,102,358,90,355,72,335,61" />
    <area alt="" title="" href="javascript:$('#Control').dialog('open')" shape="poly" coords="327,122,310,127,301,134,300,149,305,160,322,169,337,167,348,163,360,147,353,130" />
    <area alt="" title="" href="javascript:$('#IFFlush').dialog('open')" shape="rect" coords="191,203,206,262" />
    <area alt="" title="" href="javascript:$('#ForwardUnit1').dialog('open')" shape="poly" coords="345,457,320,462,311,473,307,482,310,494,328,504,340,506,353,506,377,502,391,491,390,479,379,467" />
    <area alt="" title="" href="javascript:$('#ForwardUnit2').dialog('open')" shape="poly" coords="624,515,609,520,593,527,588,546,593,559,624,572,644,568,656,562,665,550,666,532,649,517" />
    <area alt="" title="" href="javascript:$('#ALUcntrl').dialog('open')" shape="poly" coords="663,387,645,403,641,417,648,431,661,437,676,435,685,420,683,402,676,392" />
    <area alt="" title="" href="javascript:$('#Branch').dialog('open')" shape="rect" coords="368,11,408,41" />
    <area alt="" title="" href="javascript:$('#IDEX').dialog('open')" shape="rect" coords="462,86,481,158" />
    <area alt="" title="" href="javascript:$('#EXMEM').dialog('open')" shape="rect" coords="701,116,718,161" />
    <area alt="" title="" href="javascript:$('#MEMWB').dialog('open')" shape="rect" coords="857,203,872,223" />
</map>
</body>

</html>